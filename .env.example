# SizeWise Suite Environment Configuration
# This file contains all environment variables needed for the SizeWise Suite application
# Copy this file to .env and update the values according to your environment

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# Environment (development, staging, production)
NODE_ENV=development
FLASK_ENV=development

# Application Secrets (CHANGE THESE IN PRODUCTION!)
SECRET_KEY=your-super-secret-key-change-in-production-min-32-chars
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production-min-32-chars
AUTH_SECRET_KEY=your-auth-secret-key-change-in-production-min-32-chars

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================

# Backend API Server
BACKEND_HOST=127.0.0.1
BACKEND_PORT=5000

# Authentication Server
AUTH_HOST=127.0.0.1
AUTH_PORT=5001

# Frontend Server
FRONTEND_HOST=127.0.0.1
FRONTEND_PORT=3000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL (Primary Database)
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=sizewise_suite
POSTGRES_USER=sizewise
POSTGRES_PASSWORD=your-postgres-password-here
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# PostgreSQL Auth Database
POSTGRES_AUTH_DB=sizewise_auth
AUTH_DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_AUTH_DB}

# MongoDB Configuration (Spatial Data & Projects)
MONGODB_HOST=localhost
MONGODB_PORT=27017
MONGODB_DATABASE=sizewise_spatial
MONGODB_USERNAME=sizewise
MONGODB_PASSWORD=your-mongodb-password-here
MONGODB_CONNECTION_STRING=mongodb://${MONGODB_USERNAME}:${MONGODB_PASSWORD}@${MONGODB_HOST}:${MONGODB_PORT}/${MONGODB_DATABASE}?authSource=admin

# Redis Configuration (Caching & Sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0
REDIS_URL=redis://${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Sentry Configuration (Error Monitoring)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=sizewise-suite@1.0.0
SENTRY_TRACES_SAMPLE_RATE=0.1

# Email Configuration (SMTP)
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
FROM_EMAIL=noreply@sizewise.local

# =============================================================================
# FRONTEND CONFIGURATION
# =============================================================================

# Next.js Public Variables
NEXT_PUBLIC_API_URL=http://localhost:5000/api
NEXT_PUBLIC_AUTH_URL=http://localhost:5001/api
NEXT_PUBLIC_APP_ENV=development
NEXT_PUBLIC_ENABLE_DEBUG=true
NEXT_PUBLIC_CDN_URL=

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3001
CORS_ALLOW_CREDENTIALS=true

# Session Configuration
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax
SESSION_LIFETIME_HOURS=24

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Log Levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_ENABLED=true
LOG_FILE_PATH=./logs/sizewise.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Versioning
API_VERSION=v1
API_PREFIX=/api

# API Documentation
API_DOCS_ENABLED=true
API_DOCS_URL=/docs

# =============================================================================
# FILE HANDLING CONFIGURATION
# =============================================================================

# Upload Configuration
UPLOAD_FOLDER=./uploads
MAX_CONTENT_LENGTH=16777216
ALLOWED_EXTENSIONS=pdf,dwg,dxf,xlsx,csv

# Export Configuration
EXPORT_TEMP_DIR=./temp/exports
MAX_EXPORT_SIZE_MB=50
EXPORT_CLEANUP_HOURS=24

# =============================================================================
# HVAC CALCULATION CONFIGURATION
# =============================================================================

# Unit System Default (imperial, metric)
DEFAULT_UNITS=imperial

# Standards Versions
SMACNA_VERSION=2006
NFPA_VERSION=2021
ASHRAE_VERSION=2021
ACCA_VERSION=2019

# Calculation Precision
CALCULATION_PRECISION=2
PRESSURE_PRECISION=3

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Caching
CACHE_ENABLED=true
CACHE_DEFAULT_TIMEOUT=300
CACHE_KEY_PREFIX=sizewise

# Database Connection Pooling
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================

# Debug Settings
DEBUG_TOOLBAR_ENABLED=true
PROFILER_ENABLED=false

# Testing
TESTING=false
TEST_DATABASE_URL=postgresql://sizewise:test@localhost:5432/sizewise_test

# =============================================================================
# DOCKER CONFIGURATION
# =============================================================================

# Docker Compose Override
COMPOSE_PROJECT_NAME=sizewise-suite
COMPOSE_FILE=docker-compose.yml

# Container Resource Limits
BACKEND_MEMORY_LIMIT=512m
FRONTEND_MEMORY_LIMIT=256m
AUTH_MEMORY_LIMIT=256m
DB_MEMORY_LIMIT=1g
