# SizeWise Suite Authentication Server Environment Configuration
# This file contains auth-server-specific environment variables
# Copy this file to .env and update the values according to your environment

# =============================================================================
# FLASK APPLICATION CONFIGURATION
# =============================================================================

# Flask Environment (development, staging, production)
FLASK_ENV=development
FLASK_DEBUG=true

# Application Secrets (CHANGE THESE IN PRODUCTION!)
SECRET_KEY=your-auth-secret-key-change-in-production-min-32-chars
JWT_SECRET_KEY=your-jwt-secret-key-change-in-production-min-32-chars

# Server Configuration
HOST=0.0.0.0
PORT=5001

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Authentication Database
DATABASE_URL=postgresql://sizewise:password@localhost:5432/sizewise_auth

# For SQLite (development only)
# DATABASE_URL=sqlite:///sizewise_auth.db

# Redis for Session Storage
REDIS_URL=redis://localhost:6379/2

# =============================================================================
# JWT CONFIGURATION
# =============================================================================

# JWT Settings
JWT_ACCESS_TOKEN_EXPIRES=3600
JWT_REFRESH_TOKEN_EXPIRES=2592000
JWT_ALGORITHM=HS256
JWT_ISSUER=sizewise-auth

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS Configuration
ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3001
CORS_ALLOW_CREDENTIALS=true

# Password Security
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=true

# Account Security
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCKOUT_DURATION=1800
PASSWORD_RESET_EXPIRES=3600

# Session Configuration
SESSION_COOKIE_SECURE=false
SESSION_COOKIE_HTTPONLY=true
SESSION_COOKIE_SAMESITE=lax
SESSION_LIFETIME_HOURS=24

# =============================================================================
# MULTI-FACTOR AUTHENTICATION
# =============================================================================

# MFA Settings
MFA_ENABLED=true
MFA_ISSUER_NAME=SizeWise Suite
MFA_BACKUP_CODES_COUNT=10

# TOTP Settings
TOTP_VALIDITY_WINDOW=1
TOTP_INTERVAL=30

# =============================================================================
# EMAIL CONFIGURATION
# =============================================================================

# SMTP Settings for Password Reset, etc.
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
FROM_EMAIL=noreply@sizewise.local

# Email Templates
EMAIL_VERIFICATION_ENABLED=true
PASSWORD_RESET_ENABLED=true

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Sentry Error Monitoring
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=sizewise-auth@1.0.0

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging Settings
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=./logs/auth.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# Security Logging
SECURITY_LOG_ENABLED=true
AUDIT_LOG_ENABLED=true

# =============================================================================
# RATE LIMITING
# =============================================================================

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_LOGIN_ATTEMPTS=10
RATE_LIMIT_REGISTRATION_ATTEMPTS=5
RATE_LIMIT_PASSWORD_RESET_ATTEMPTS=3
RATE_LIMIT_STORAGE_URL=redis://localhost:6379/3

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Settings
API_VERSION=v1
API_PREFIX=/api
API_DOCS_ENABLED=true

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Debug Tools
DEBUG_TOOLBAR_ENABLED=true
PROFILER_ENABLED=false

# Testing
TESTING=false
TEST_DATABASE_URL=postgresql://sizewise:test@localhost:5432/sizewise_auth_test

# =============================================================================
# WORKER CONFIGURATION (for production)
# =============================================================================

# Gunicorn Settings
WORKERS=2
WORKER_CLASS=gevent
TIMEOUT=120
KEEPALIVE=2
