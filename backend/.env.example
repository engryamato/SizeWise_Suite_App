# SizeWise Suite Backend Environment Configuration
# This file contains backend-specific environment variables
# Copy this file to .env and update the values according to your environment

# =============================================================================
# FLASK APPLICATION CONFIGURATION
# =============================================================================

# Flask Environment (development, staging, production)
FLASK_ENV=development
FLASK_DEBUG=true

# Application Secrets (CHANGE THESE IN PRODUCTION!)
SECRET_KEY=your-backend-secret-key-change-in-production-min-32-chars

# Server Configuration
HOST=0.0.0.0
PORT=5000

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# PostgreSQL Primary Database
DATABASE_URL=postgresql://sizewise:password@localhost:5432/sizewise_suite

# MongoDB Spatial Database
MONGODB_CONNECTION_STRING=mongodb://sizewise:password@localhost:27017/sizewise_spatial?authSource=admin
MONGODB_DATABASE=sizewise_spatial

# Redis Cache
REDIS_URL=redis://localhost:6379/0

# =============================================================================
# EXTERNAL SERVICES
# =============================================================================

# Sentry Error Monitoring
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_RELEASE=sizewise-backend@1.0.0

# Email Configuration
SMTP_HOST=localhost
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_USE_TLS=true
FROM_EMAIL=noreply@sizewise.local

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# CORS Settings
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000
CORS_ALLOW_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_STORAGE_URL=redis://localhost:6379/1

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================

# Logging Settings
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE_PATH=./logs/backend.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5

# =============================================================================
# API CONFIGURATION
# =============================================================================

# API Settings
API_VERSION=v1
API_PREFIX=/api
API_DOCS_ENABLED=true

# Pagination
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# =============================================================================
# FILE HANDLING
# =============================================================================

# Upload Settings
UPLOAD_FOLDER=./uploads
MAX_CONTENT_LENGTH=16777216
ALLOWED_EXTENSIONS=pdf,dwg,dxf,xlsx,csv

# Export Settings
EXPORT_TEMP_DIR=./temp/exports
MAX_EXPORT_SIZE_MB=50
EXPORT_CLEANUP_HOURS=24

# =============================================================================
# HVAC CALCULATIONS
# =============================================================================

# Default Settings
DEFAULT_UNITS=imperial
CALCULATION_PRECISION=2
PRESSURE_PRECISION=3

# Standards Versions
SMACNA_VERSION=2006
NFPA_VERSION=2021
ASHRAE_VERSION=2021
ACCA_VERSION=2019

# =============================================================================
# PERFORMANCE SETTINGS
# =============================================================================

# Caching
CACHE_ENABLED=true
CACHE_DEFAULT_TIMEOUT=300
CACHE_KEY_PREFIX=sizewise_backend

# Database Pool
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# =============================================================================
# DEVELOPMENT SETTINGS
# =============================================================================

# Debug Tools
DEBUG_TOOLBAR_ENABLED=true
PROFILER_ENABLED=false

# Testing
TESTING=false
TEST_DATABASE_URL=postgresql://sizewise:test@localhost:5432/sizewise_backend_test

# =============================================================================
# WORKER CONFIGURATION (for production)
# =============================================================================

# Gunicorn Settings
WORKERS=4
WORKER_CLASS=gevent
WORKER_CONNECTIONS=1000
MAX_REQUESTS=1000
MAX_REQUESTS_JITTER=100
TIMEOUT=120
KEEPALIVE=2
